# Coding Agent From Scratch

LangChainとOpenAIを使用してゼロから構築された高度なAI駆動コーディングアシスタントシステム。このプロジェクトは、プログラマーエージェントとレビューアーエージェントが連携してコードの生成、レビュー、改善を自動的に行う協調開発ワークフローを実装しています。

## 目的

このプロジェクトは、以下の機能を持つインテリジェントなコーディングアシスタントの作成を目指しています：

- **自動コード生成**: 自然言語の指示に基づいて高品質なコードを生成
- **インテリジェントコードレビュー**: 生成されたコードの品質、ベストプラクティス、潜在的な問題を自動的にレビュー
- **反復的開発**: プログラマーとレビューアーエージェント間のフィードバックループによる継続的改善
- **Git統合**: 生成されたコードのGitブランチ管理とプルリクエストの自動作成
- **多言語サポート**: 様々なプログラミング言語とフレームワークをサポート

システムは以下の開発サイクルに従います：
1. プログラマーエージェントがユーザーの指示に基づいてコードを生成
2. レビューアーエージェントが生成されたコードを分析してフィードバックを提供
3. コードが品質基準を満たすまで（LGTM - Looks Good To Me）サイクルを繰り返し
4. システムが自動的にGitブランチを作成してバージョン管理を行う

## 機能

- **エージェント連携**: プログラマーとレビューアーエージェント間のシームレスな協調
- **自動ブランチ管理**: インテリジェントなGitブランチ命名と作成
- **コード品質保証**: 組み込まれたコードレビューと品質チェック
- **柔軟な設定**: カスタマイズ可能なコーディングルールと標準
- **CLIインターフェース**: エージェント実行のための使いやすいコマンドラインインターフェース
- **包括的ログ**: デバッグと監視のための詳細なログ

## uvを使用した環境セットアップ

このプロジェクトは、高速で信頼性の高いPythonパッケージ管理のために[uv](https://github.com/astral-sh/uv)を使用しています。

### 前提条件

- Python 3.12以上
- uvパッケージマネージャー

### uvのインストール

uvがインストールされていない場合は、以下の方法でインストールできます：

```bash
# macOSとLinux
curl -LsSf https://astral.sh/uv/install.sh | sh

# Windows
powershell -c "irm https://astral.sh/uv/install.ps1 | iex"

# またはpipを使用
pip install uv
```

### プロジェクトセットアップ

1. **リポジトリのクローン**:
   ```bash
   git clone <repository-url>
   cd coding_agent_from_scratch
   ```

2. **仮想環境の作成とアクティベート**:
   ```bash
   # uvが自動的に仮想環境を作成し、依存関係をインストールします
   uv sync
   ```

3. **仮想環境のアクティベート**:
   ```bash
   # macOS/Linux
   source .venv/bin/activate
   
   # Windows
   .venv\Scripts\activate
   ```

4. **環境設定**:
   プロジェクトルートに`.env`ファイルを作成し、APIキーを設定します：
   ```bash
   cp .env.example .env  # サンプルファイルが存在する場合
   # .envファイルを編集して設定を行う
   ```

   必要な環境変数：
   - OpenAI APIクレデンシャル
   - Azure OpenAI設定（Azureを使用する場合）
   - その他のサービス固有の設定

### 開発セットアップ

開発用に追加の開発依存関係をインストールできます：

```bash
# 開発依存関係のインストール
uv add --dev pytest ruff black mypy

# テストの実行
uv run pytest

# リンティングの実行
uv run ruff check

# コードフォーマット
uv run black .
```

## 使用方法

### 基本的な使用方法

簡単な指示でコーディングエージェントを実行：

```bash
uv run python src/main.py coordinator "FastAPIを使用してシンプルなWeb APIを作成"
```

### 高度な使用方法

システムはカスタマイズのための様々なパラメータをサポートしています：

- **最大反復回数**: レビューサイクルの回数を制御
- **自動ブランチ作成**: Gitブランチを自動的に作成
- **カスタム指示**: 詳細なコーディング要件を提供

### コマンド例

```bash
# REST APIの生成
uv run python src/main.py coordinator "CRUD操作を持つユーザー管理のREST APIを作成"

# データ処理スクリプトの作成
uv run python src/main.py coordinator "CSVファイル用のデータ処理パイプラインを構築"

# フロントエンドコンポーネントの生成
uv run python src/main.py coordinator "todoアプリケーション用のReactコンポーネントを作成"
```

## プロジェクト構造

```
src/
├── agent/                 # エージェント関連モジュール
│   ├── function/         # エージェント機能とツール
│   ├── rules/           # コーディングルールと標準
│   └── schema/          # データスキーマ
├── application/         # アプリケーション層
├── infrastructure/      # インフラストラクチャとユーティリティ
├── usecase/            # ビジネスロジックとユースケース
│   ├── programmer/     # プログラマーエージェント実装
│   └── reviewer/       # レビューアーエージェント実装
└── main.py             # CLIエントリーポイント

generated_code/         # 生成されたコードの出力ディレクトリ
tests/                 # テストファイル
```

## 設定

システムは以下の方法で設定できます：

- **コーディングルール**: `src/agent/rules/coding_rule.md`を変更してコーディング標準をカスタマイズ
- **エージェントの動作**: 各モジュールでエージェントパラメータを設定
- **環境変数**: `.env`でAPIキーとサービス設定を設定

## 貢献

1. リポジトリをフォーク
2. 自動ブランチ命名システムを使用してフィーチャーブランチを作成
3. プロジェクトのコーディング標準に従って変更を実施
4. テストを実行してコード品質を確保
5. プルリクエストを提出

## ライセンス

このプロジェクトはMITライセンスの下でライセンスされています - 詳細は[LICENSE](LICENSE)ファイルを参照してください。

## サポート

質問、問題、または貢献については、[issue を作成](link-to-issues)するか、開発チームにお問い合わせください。
